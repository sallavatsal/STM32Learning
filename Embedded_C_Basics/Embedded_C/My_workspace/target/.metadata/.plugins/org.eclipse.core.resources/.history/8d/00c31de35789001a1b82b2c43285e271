/**
  ******************************************************************************
  * @file    main.c
  * @author  Auto-generated by STM32CubeIDE
  * @version V1.0
  * @brief   Default main function.
  ******************************************************************************
*/

#include<stdio.h>
#include<stdint.h>

int main(){
	// Addresses as pointers
	uint32_t* pClkCtrlreg = (uint32_t*)(0x40023830);		// RCC_AHB1ENR Clock enable register
	uint32_t* pPortDModereg = (uint32_t*)(0x40020C00);		// GPIO Control Mode
	uint32_t* pPortDOutreg = (uint32_t*)(0x40020C14);		// GPIO Input Data register

	// To not affect other registers, use bit manipulation.
	*pClkCtrlreg |= (1<<3);									// Clock enabled for Port D
	*pPortDModereg &= ~(3<<24);								// Clear 24th and 25th bit
	*pPortDModereg |= (1<<24);								// Set 24th bit

	while(1){
		*pPortDOutreg |= (1<<12);								// Writing 1 to 12th bit
		for(i=0; i<1000; ++i);
		*pPortDOutreg &= ~(1<<12);								// Writing 1 to 12th bit
		for(i=0; i<1000; ++i);
	}

	return 0;
}
